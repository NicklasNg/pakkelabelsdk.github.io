/*
 * @Plugin Timeline Express Pro
 * @Author Code Parrots
 * @Site https://www.wp-timelineexpress.com
 * @Version 2.0.4
 * @Build 12-06-2017
 */
function initialize_timeline_express_container(a){void 0===a&&(a=!0),timelineExpress.init(a)}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,e){var f=c(b),g=e?c(e):f,h=[],i=0,j=0,k=f.length,l=e?g.length:f.length;for(e||(e=b);i<k;i++)for(j=0;j<l;j++)b[i]!==e[j]&&d(f[i],g[j])&&h.push(k>l?b[i]:e[j]);return a.unique(h)}function c(b){for(var c,d,e=[],f=0;d=b[f++];)c=a(d).offset(),e.push([c.top,c.left,d.offsetWidth,d.offsetHeight]);return e}function d(a,b){var c=a[1],d=a[0],e=a[2],f=a[3],g=b[1],h=b[0],i=b[2];return!(h+b[3]<=d||d+f<=h||g+i<=c||c+e<=g)}a.fn.overlaps=function(c){return this.pushStack(b(this,c&&a(c)))}});var timelineExpress={};!function(a){var b=a(".timeline-express"),c=a(".cd-timeline-block"),d={columnWidth:".cd-timeline-block",itemSelector:".cd-timeline-block"};timeline_express_data.animation_disabled&&(d.transitionDuration=0),timelineExpress={init:function(e){void 0===e&&(e=!0),a("html").addClass("cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions"),c.each(function(){!timeline_express_data.animation_disabled&&e&&a(this).find(".cd-timeline-img, .cd-timeline-content, .extra-content").addClass("is-hidden")}),timelineExpress.scroll(),b.each(function(){var b=a(this).imagesLoaded(function(){b.masonry(d)});a(this).on("layoutComplete",timelineExpress.display(a(this)))})},display:function(b){timelineExpress.addLocationClasses(b),timelineExpress.preventOverlaps(b),b.imagesLoaded(function(){b.masonry(d)}),a(window).trigger("resize"),setTimeout(function(){b.fadeTo(700,1)},800)},addLocationClasses:function(b){b.find(".cd-timeline-block").length;b.find(".cd-timeline-block").each(function(){var b="0px"!==a(this).css("left")?"right":"left",c="0px"!==a(this).css("left")?"left":"right";a(this).addClass("timeline-announcement-"+b).removeClass("timeline-announcement-"+c)})},preventOverlaps:function(b){var c=b.find(".cd-timeline-img").overlaps();c.length<1||c.each(function(b){if(b%2){var d=a(c[b]).parents(".cd-timeline-block").prev().find(".extra-content.before").height(),e=null===d?0:d,f="calc( 2em + 65px + "+e+"px )";a(c[b]).parents(".cd-timeline-block").css("margin-top",f)}})},scroll:function(){timeline_express_data.animation_disabled||c.each(function(){timelineExpress.isElementVisible(a(this))&&timelineExpress.animateContainer(a(this))})},filterTimeline:function(){var b=a(this).prev(),c=[],d=b.find('input[name="filter-redirect-url"]').val();if(c.push(d),b.find('select[name="timelines"]').length>0){var e=b.find('select[name="timelines"]').val();"-1"!=e&&c.push("timeline="+e)}if(a(".cat-checkbox-container").length>0){var f=[];a(".cat-checkbox-container").find('input[type="checkbox"]:checked').each(function(){f.push(a(this).val())}),f.length>0&&c.push("timeline-category="+f.join(","))}if(c.length>0){var g=null,h=c[0].indexOf("?")>-1?"&":"?";1===c.length&&window.location.replace(c.join("")),2===c.length&&(g=c[0]+h+c[1],window.location.replace(g)),3===c.length&&(g=c[0]+h+c[1]+"&"+c[2],window.location.replace(g))}},animateContainer:function(a){var b=a.data("container-animation")?a.data("container-animation"):"bounce-in",c=a.data("icon-animation")?a.data("icon-animation"):"bounce-in";a.find(".cd-timeline-content, .cd-timeline-img, .extra-content").removeClass("is-hidden"),a.find(".cd-timeline-content, .extra-content").addClass(b),a.find(".cd-timeline-img").addClass(c)},isElementVisible:function(b){!b instanceof jQuery&&(b=a(b));var c=b.offset().top,d=a(window).scrollTop(),e=a(window).height(),f=b.find(".cd-timeline-img").hasClass("is-hidden");return!(c>d+.75*e||!f)}},a(document).ready(timelineExpress.init),a(window).on("scroll",timelineExpress.scroll),a("body").on("click",".timeline-express-filter-submit",timelineExpress.filterTimeline),a(window).on("resize",function(c){c.target.outerWidth<=738&&a(".cd-timeline-block").css("margin-top",""),b.on("layoutComplete",function(){timelineExpress.addLocationClasses(a(this)),timelineExpress.preventOverlaps(a(this))})})}(jQuery);